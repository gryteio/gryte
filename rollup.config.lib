import babel from "rollup-plugin-babel";
const pkg = require("./package.json");

const banner = ``;

const externals = [
  ...Object.keys(pkg.dependencies),
  ...Object.keys(pkg.peerDependencies)
];

export default {
  input: "cli/gryte.js",
  plugins: [
    babel({
      exclude: "node_modules/**"
    })
  ],
  external: id => externals.some(d => id.startsWith(d)),
  output: [
    { file: pkg.main, format: "cjs", name: "Catalog", banner, sourcemap: true },
    { file: pkg.module, format: "es", banner, sourcemap: true }
  ]
};
